<template>
  <div class="milkdown-demo">
    <a-page-header
      title="Milkdown Markdown ç¼–è¾‘å™¨"
      sub-title="åŸºäº @milkdown/vue çš„ Markdown ç¼–è¾‘å™¨ç»„ä»¶"
    />
    
    <a-row :gutter="[16, 16]">
      <!-- åŸºç¡€ç”¨æ³• -->
      <a-col :span="24">
        <a-card title="åŸºç¡€ç”¨æ³•" :bordered="false">
          <p class="desc">æ”¯æŒå®æ—¶é¢„è§ˆçš„ Markdown ç¼–è¾‘å™¨ï¼ŒåŸºäº ProseMirror æ„å»º</p>
          <MilkdownEditor
            v-model="content1"
            placeholder="å¼€å§‹è¾“å…¥ Markdown å†…å®¹..."
            :height="300"
          />
          <div class="output-section">
            <a-divider />
            <h4>Markdown æºç ï¼š</h4>
            <pre class="code-block">{{ content1 }}</pre>
          </div>
        </a-card>
      </a-col>

      <!-- é»˜è®¤å†…å®¹ -->
      <a-col :span="24">
        <a-card title="é»˜è®¤å†…å®¹" :bordered="false">
          <p class="desc">æ”¯æŒè®¾ç½®é»˜è®¤å†…å®¹ï¼Œè‡ªåŠ¨æ¸²æŸ“ä¸ºå¯ç¼–è¾‘çš„å¯Œæ–‡æœ¬</p>
          <MilkdownEditor
            v-model="content2"
            :height="400"
          />
        </a-card>
      </a-col>

      <!-- åªè¯»æ¨¡å¼ -->
      <a-col :span="24" :lg="12">
        <a-card title="åªè¯»æ¨¡å¼" :bordered="false">
          <p class="desc">æ”¯æŒåªè¯»æ¨¡å¼ï¼Œç”¨äºå±•ç¤º Markdown å†…å®¹</p>
          <MilkdownEditor
            v-model="content3"
            :readonly="true"
            :height="250"
          />
        </a-card>
      </a-col>

      <!-- ç‰¹æ€§è¯´æ˜ -->
      <a-col :span="24" :lg="12">
        <a-card title="æ”¯æŒçš„ç‰¹æ€§" :bordered="false">
          <a-list size="small">
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              æ ‡å‡† Markdown è¯­æ³•ï¼ˆCommonMarkï¼‰
            </a-list-item>
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              GitHub Flavored Markdownï¼ˆGFMï¼‰
            </a-list-item>
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              ä»£ç å—é«˜äº®ï¼ˆPrismï¼‰
            </a-list-item>
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              å¿«æ·é”®æ”¯æŒï¼ˆSlash å‘½ä»¤ï¼‰
            </a-list-item>
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              å·¥å…·æ æç¤ºï¼ˆTooltipï¼‰
            </a-list-item>
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              æ‹–æ‹½ç¼–è¾‘ï¼ˆBlockï¼‰
            </a-list-item>
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              å†å²è®°å½•ï¼ˆUndo/Redoï¼‰
            </a-list-item>
            <a-list-item>
              <CheckCircleOutlined class="feature-icon" />
              å‰ªè´´æ¿æ”¯æŒï¼ˆç²˜è´´å›¾ç‰‡ï¼‰
            </a-list-item>
          </a-list>
        </a-card>
      </a-col>
    </a-row>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { CheckCircleOutlined } from '@antdv-next/icons'
import MilkdownEditor from '@/components/Milkdown/index.vue'

const content1 = ref('')

const content2 = ref(`# Milkdown ç¼–è¾‘å™¨

## ç®€ä»‹

Milkdown æ˜¯ä¸€ä¸ª**æ’ä»¶é©±åŠ¨**çš„ Markdown ç¼–è¾‘å™¨æ¡†æ¶ï¼ŒåŸºäºï¼š

- ğŸ“ ProseMirror - ä¸“ä¸šçš„ç¼–è¾‘å™¨æ¡†æ¶
- ğŸ¨ Remark - Markdown å¤„ç†å™¨
- âš¡ Vue 3 - å“åº”å¼æ¡†æ¶

## åŠŸèƒ½ç‰¹æ€§

### 1. åŸºç¡€æ ¼å¼

- **ç²—ä½“** å’Œ *æ–œä½“*
- ~~åˆ é™¤çº¿~~
- 
### 2. åˆ—è¡¨

æœ‰åºåˆ—è¡¨ï¼š
1. ç¬¬ä¸€é¡¹
2. ç¬¬äºŒé¡¹
3. ç¬¬ä¸‰é¡¹

æ— åºåˆ—è¡¨ï¼š
- è‹¹æœ
- é¦™è•‰
- æ©™å­

### 3. ä»£ç 

è¡Œå†…ä»£ç ï¼š\`const hello = 'world'\`

ä»£ç å—ï¼š
\`\`\`typescript
function greet(name: string) {
  console.log(\`Hello, \${name}!\`)
}
\`\`\`

### 4. è¡¨æ ¼

| å§“å | å¹´é¾„ | åŸå¸‚ |
|------|------|------|
| å¼ ä¸‰ | 25 | åŒ—äº¬ |
| æå›› | 30 | ä¸Šæµ· |

### 5. ä»»åŠ¡åˆ—è¡¨

- [x] å·²å®Œæˆä»»åŠ¡
- [ ] å¾…åŠä»»åŠ¡

## é“¾æ¥å’Œå›¾ç‰‡

[è®¿é—® GitHub](https://github.com)

> è¿™æ˜¯ä¸€æ®µå¼•ç”¨æ–‡æœ¬

---

**æç¤ºï¼š** è¯•è¯•è¾“å…¥ "/" æŸ¥çœ‹ Slash å‘½ä»¤èœå•ï¼
`)

const content3 = ref(`# åªè¯»æ¨¡å¼ç¤ºä¾‹

æ­¤å†…å®¹ä»¥**åªè¯»æ¨¡å¼**æ˜¾ç¤ºï¼Œç”¨æˆ·æ— æ³•ç¼–è¾‘ã€‚

## é€‚ç”¨åœºæ™¯

1. æ–‡æ¡£é¢„è§ˆ
2. å†…å®¹å±•ç¤º
3. æ–‡ç« é˜…è¯»

> ğŸ’¡ æç¤ºï¼šå¯ä»¥é€šè¿‡ \`readonly\` å±æ€§æ§åˆ¶ç¼–è¾‘çŠ¶æ€ã€‚`)
</script>

<style scoped lang="scss">
.milkdown-demo {
  padding: 24px;
  
  .desc {
    color: var(--color-text-secondary);
    margin-bottom: 16px;
  }
  
  .output-section {
    margin-top: 16px;
    
    h4 {
      margin-bottom: 12px;
      font-weight: 500;
    }
  }
  
  .code-block {
    background: var(--color-bg-layout);
    padding: 16px;
    border-radius: var(--radius-base);
    font-family: 'Courier New', monospace;
    font-size: 13px;
    overflow-x: auto;
    white-space: pre-wrap;
    word-break: break-all;
    max-height: 200px;
    overflow-y: auto;
  }
  
  .feature-icon {
    color: var(--color-success);
    margin-right: 8px;
  }
}
</style>
